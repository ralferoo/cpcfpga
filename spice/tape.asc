Version 4
SHEET 1 1736 680
WIRE 848 -240 832 -240
WIRE 848 -224 848 -240
WIRE 752 -80 752 -240
WIRE 752 -80 560 -80
WIRE 560 -16 560 -80
WIRE 752 16 752 -80
WIRE 240 64 -80 64
WIRE 352 64 240 64
WIRE 560 64 416 64
WIRE 688 64 560 64
WIRE 1216 112 1040 112
WIRE 752 128 752 112
WIRE 976 128 752 128
WIRE -80 144 -80 64
WIRE 240 144 240 64
WIRE 560 224 560 144
WIRE 752 224 752 208
WIRE 752 224 560 224
WIRE 752 288 752 224
FLAG -80 224 0
FLAG 240 224 0
FLAG 752 288 0
FLAG 848 -224 0
SYMBOL voltage -80 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 1 10000 0 0 0)
SYMBOL res 224 128 R0
SYMATTR InstName R1
SYMATTR Value 10000
SYMBOL cap 416 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 4.7µF
SYMBOL res 544 -32 R0
SYMATTR InstName R2
SYMATTR Value 5700
SYMBOL res 544 48 R0
SYMATTR InstName R3
SYMATTR Value 10000
SYMBOL npn 688 16 R0
SYMATTR InstName Q1
SYMBOL res 736 112 R0
SYMATTR InstName R4
SYMATTR Value 47000
SYMBOL voltage 736 -240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL Digital\\and 1008 64 R0
SYMATTR InstName A1
TEXT -112 248 Left 2 !.tran 0.0005s
TEXT -224 -240 Left 2 ;Good info here: http://www.zxdesign.info/cassette.shtml
TEXT -216 -168 Left 2 ;ds099.pdf p61:
TEXT -88 -136 Left 2 ;LVTTL/LVCMOS33, V_IL < 0.8V, V_IH > 2.0V
TEXT -8 -104 Left 2 ;LVCMOS25, V_IL < 0.7V, V_IH > 1.7V
TEXT 1080 -232 Left 2 ;Output, want at least 1.2V swing centred on 1.4V\nBefore transistor, want 1.2V swing centred on 2.1V\nR3=R2/(vin/vout-1)=R2/(3.3/2.1-1)=1.75*R2\nR2=R3(vin/vout-1)=R3(1.5714-1)=0.5714*R3
