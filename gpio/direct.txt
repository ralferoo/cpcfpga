xapp452 contains details

stream (not starts at end with LSB!)

00000004	20000000  NOP x4
b0000000	0000000d  DESYNC
8001000c	30008001  CMD write packet header
eafa0000	00005f57  CRC value
8000000c	30000001  CRC write packet header
00000000	00000000  CTL write packet data
8005000c	3000a001  CTL write packet header
a0000000	00000005  START
8001000c	30008001  CMD write packet header
00000004	20000000  NOP x69
c0000000	00000003  DGHIGH/LFRM
8001000c	30008001  CMD write packet header
50000000	0000000a  GRESTORE
8001000c	30008001  CMD write packet header

b1010000	????
00000000

00000000	00000000 .....

00f3000a	5000cf00  FDRI packet header (type 2)
0002000c	30004000  FDRI packet header (type 1)
80000000	00000001  CMD write packet data (WCFG)
8001000c	30008001, CMD write packet header
00000000	00000000  FAR write packet data
8004000c	30002001  FAR write packet header
90000000	00000009  CMD write packet data (Switch CCLK)
8001000c	30008001, CMD write packet header
00000000	00000000  MASK write packet header
8003000c	3000c001  MASK write packet header
c9038280	0141c093  IDCODE write packet header (chip value)
8003800c	3001c001  IDCODE write packet header
a7fc8042	42013fe5  COR write packet data (what is this value?)
8004800c	30012001  COR write packet data
22000000	00000044  FLR write packet data (from xapp)
8006800c	30016001  FLR write packet
e0000000	00000007  Reset CRC
8001000c	30008001, CMD write packet header
66aa9955	aa995566 sync

ffffffff	ffffffff  Dummy
00000000	00000000  ??
00000000	00000000  ??
10000000	00000008  Assert GHIGH_B Signal 
8001000c	30008001, CMD write packet header (write cmd reg, 1 word)
66aa9955	<< START, aa995566 sync



Device	# of	Frame		Configuration	Total # of 	
	Frames	Length in	Bits		Bits 		
		Bits				(Including overhead) 
XC3S400	767	2,208		1,693,536	1,699,136	4.25 33.98 51.49

last 3: SelectMap download time(50MHz) in ms, serial(50Mhz) ms, JTAG(33MHz) ms

direct, at end of SDR (remember, first bit at end):

0000000000000000000000000000000000000000000000f3000a0002000c800000008001000c000000008004000c900000008001000c000000008003000c c9038280 8003800ca7fc80428004800c220000008006800ce00000008001000c66aa9955ffffffff0000000000000000100000008001000c66aa9955) SMASK (

in prom SVF:

0000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000f3000a0002000c80
0000008001000c000000008004000c900000008001000c000000008003000c c9038280 8003800ca7
fc0042
8004800c220000008006800ce00000008001000c66aa9955ffffffff) SMASK (01fffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff

start of direct:

TDR 0 ;
//Loading device with 'idcode' instruction.
SIR 6 TDI (09) ;
SDR 32 TDI (00000000) TDO (f141c093) ;
//Loading device with 'bypass' instruction.
SIR 6 TDI (3f) ;
// Loading device with a `jprogram` instruction. 
SIR 6 TDI (0b) ;
// Loading device with a `cfg_in` instruction. 
SIR 6 TDI (05) ;
RUNTEST 14000 TCK;
// Loading device with a `cfg_in` instruction. 
SIR 6 TDI (05) ;
SDR 64 TDI (0000000000000000) SMASK (ffffffffffffffff) ;
SIR 6 TDI (05) ;
SDR 1699296 TDI (00000004000000040000000400000004b00000008001000ceafa00008000000
c000000008005000ca00000008001000c00000004000000040000000400000004000000040000000
40000000400000004000000040000000400000004000000040000000400000004000000040000000
4000000
04000000040000000400000004000000040000000400000004000000040000000400000004000000
0400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000
0004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004c00000008001000c500000008001000cb10100000000000000000000000000000000000000

which corresponds to end of prom data:

RUNTEST 14000 TCK;
// Loading device with a 'fdata0' instruction.
SIR 14 TDI (3fed) ;
SDR 4097 TDI (00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000004000000040000000400000004b00000008001000ceafa00
008000000c000000008005000ca00000008001000c000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000
000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400
000004000000040000000400000004000000040000000400000004000000040000000400000004000000040000000400000004c00000008001000c500000008001000c40df000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000) SMASK (01ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
...
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff) ;
ENDIR IDLE;
RUNTEST 1 TCK;
RUNTEST 1 TCK;
// Loading device with a 'faddr' instruction.
SIR 14 TDI (3feb) ;
SDR 17 TDI (0033c0) SMASK (01ffff) ;
RUNTEST 1 TCK;
RUNTEST 1 TCK;
// Loading device with a 'fpgm' instruction.
ENDIR IRPAUSE;
SIR 14 TDI (3fea) ;
RUNTEST 1 TCK;
RUNTEST 14000 TCK;

